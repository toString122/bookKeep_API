(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/help/help_edit"],{"03dc":function(e,t,n){"use strict";n.r(t);var o=n("b68e"),i=n("3c02");for(var c in i)"default"!==c&&function(e){n.d(t,e,(function(){return i[e]}))}(c);n("d420");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);t["default"]=l.exports},"2cd1":function(e,t,n){},"3c02":function(e,t,n){"use strict";n.r(t);var o=n("76aa"),i=n.n(o);for(var c in o)"default"!==c&&function(e){n.d(t,e,(function(){return o[e]}))}(c);t["default"]=i.a},"76aa":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("612e"),i=n("c0cc"),c=function(){n.e("pages/components/statusBar").then(function(){return resolve(n("e6ee"))}.bind(null,n)).catch(n.oe)},a={components:{StatusBar:c},onLoad:function(e){this.id=e.id,console.log(this.id),(0,o.getHelpDetail)({id:this.id},(function(e){console.log("getHelpDetail返回数据",e)}))},data:function(){return{editable:!0,html:"<div> hello world </div>",readOnly:!1,id:1,content:"<div> hello world </div>",imgList:[]}},onReady:function(){var t=this;this.$refs.article.getSrc=function(n,o){return new Promise((function(i,c){var a;"img"===n?e.showActionSheet({itemList:["本地选取","远程链接"],success:function(n){0===n.tapIndex?e.chooseImage({count:1,success:function(e){i(e.tempFilePaths[0])},fail:c}):(t.callback={resolve:i,reject:c},t.$set(t,"modal",{title:"图片链接",value:o}))}}):(t.callback={resolve:i,reject:c},"video"===n?a="视频链接":"audio"===n?a="音频链接":"link"===n&&(a="链接地址"),t.$set(t,"modal",{title:a,value:o}))}))}},methods:{chooseWord:function(){e.chooseMessageFile({count:1,type:"file",success:function(t){var n=t.tempFiles[0].size,o=t.tempFiles[0].name,c=o+"";if(console.log(t.tempFiles[0]),console.log(c+"-------"+n),n>4194304||-1==c.indexOf(".pdf"))e.showToast({title:"文件大小不能超过4MB,格式必须为pdf！",icon:"none",duration:2e3,mask:!0});else{var a=e.getStorageSync("slToken");t.tempFiles[0].path,t.tempFiles[0].name;e.uploadFile({url:i.baseUrl+"/help/upload",filePath:t.tempFiles[0].path,name:"file",header:{"content-type":"multipart/form-data;charset=UTF-8",Authorization:"Bearer "+a},success:function(t){if(401===t.statusCode)e.showToast({title:"登录超时，重新登录",duration:2e3,icon:"none"});else{var n=JSON.parse(t.data);1==n.result&&e.showToast({title:"上传成功",duration:2e3,icon:"none"})}},fail:function(t){console.log(t),e.showToast({title:"上传失败",duration:2e3,icon:"none"})}})}}})},ChooseImage:function(){var t=this;e.chooseImage({count:4,sizeType:["original","compressed"],sourceType:["album"],success:function(e){0!=t.imgList.length?t.imgList=t.imgList.concat(e.tempFilePaths):t.imgList=e.tempFilePaths}})},ViewImage:function(t){e.previewImage({urls:this.imgList,current:t.currentTarget.dataset.url})},DelImg:function(t){var n=this;e.showModal({title:"召唤师",content:"确定要删除这段回忆吗？",cancelText:"再看看",confirmText:"再见",success:function(e){e.confirm&&n.imgList.splice(t.currentTarget.dataset.index,1)}})},load:function(){console.log("dom 树加载完毕")},ready:function(e){console.log("ready 事件触发：",e)},imgtap:function(e){console.log("imgtap 事件触发：",e)},linktap:function(e){console.log("linktap 事件触发：",e)},edit:function(e){this.$refs.article[e.currentTarget.dataset.method]()},clear:function(){var t=this;e.showModal({title:"确认",content:"确定清空内容吗？",success:function(e){e.confirm&&t.$refs.article.clear()}})},save:function(){}}};t.default=a}).call(this,n("543d")["default"])},b68e:function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}));var i=function(){var e=this,t=e.$createElement;e._self._c},c=[]},c2e9:function(e,t,n){"use strict";(function(e){n("885c");o(n("66fd"));var t=o(n("03dc"));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},d420:function(e,t,n){"use strict";var o=n("2cd1"),i=n.n(o);i.a}},[["c2e9","common/runtime","common/vendor"]]]);