(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"05ca":function(e,n,t){var o=t("24fb");n=o(!1),n.push([e.i,".backgroundimage[data-v-4172099e]{width:100%;height:auto}.cu-form-group .title[data-v-4172099e]{min-width:calc(4em + 15px)}",""]),e.exports=n},"1dd1":function(e,n,t){"use strict";t.r(n);var o=t("86ec"),i=t("b781");for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t("7329");var s,u=t("f0c5"),c=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"4172099e",null,!1,o["a"],s);n["default"]=c.exports},"6bc6":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("42e1"),i={data:function(){return{title:"Hello",backUrl:"",userModel:{phone:"",password:"",loginType:1}}},onLoad:function(n){e("log","option",n," at pages/login/login.vue:76"),this.backUrl=n.backurl||"/pages/index/index"},methods:{appUserLogin:function(){var e=this;(0,o.login)(e.userModel,(function(n){!0===n.result?(uni.setStorageSync("slToken",n.data.accessToken),uni.setStorageSync("refreshToken",n.data.refreshToken),uni.showToast({title:"登录成功",duration:2e3,icon:"none"}),uni.redirectTo({url:e.backUrl})):uni.showToast({title:n.msg,duration:2e3,icon:"none"})}))},alertShow:function(){uni.showLoading({title:"加载中"})},userLogin:function(n){var t=this;uni.login({timeout:1e4,provider:"weixin",success:function(n){e("log","要获取openId"," at pages/login/login.vue:119");var i=n.code,a="wxd7265bbb6f983342",s="81e2e51775616aac7ce30e08b2ab60b9",u="https://api.weixin.qq.com/sns/jscode2session?appid="+a+"&secret="+s+"&js_code="+i+"&grant_type=authorization_code";uni.request({url:u,success:function(n){e("log",n," at pages/login/login.vue:130");var i=n.data.openid;uni.getUserInfo({success:function(n){e("log",n.userInfo," at pages/login/login.vue:135"),n.userInfo.openId=i,(0,o.oAuthLogin)({code:n.code,oAuthType:1,userInfo:n.userInfo},(function(n){e("log",n," at pages/login/login.vue:143"),!0===n.result?(e("log","------------- start "," at pages/login/login.vue:145"),e("log","-------------"+t.backUrl," at pages/login/login.vue:148"),uni.setStorageSync("slToken",n.data.accessToken),uni.setStorageSync("refreshToken",n.data.refreshToken),uni.redirectTo({url:t.backUrl}),uni.showToast({title:"登录成功",duration:2e3,icon:"none"})):uni.showToast({title:n.Msg,duration:2e3,icon:"none"})}))},fail:function(){uni.showToast({title:"授权登录失败",duration:2e3,icon:"none"})}})}})},fail:function(e){uni.showToast({title:"授权登录失败",duration:2e3,icon:"none"})}})}}};n.default=i}).call(this,t("0de9")["log"])},7329:function(e,n,t){"use strict";var o=t("e85e"),i=t.n(o);i.a},"86ec":function(e,n,t){"use strict";var o;t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"applogin margin"},[t("v-uni-view",{staticClass:"flex padding justify-center",staticStyle:{height:"200upx"}}),t("v-uni-view",{staticClass:"flex padding justify-center"},[t("v-uni-view",{staticClass:"cu-avatar round xl bg-yellow iconfont icon-jizhangben text-white"})],1),t("v-uni-form",[t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("用户名")]),t("v-uni-input",{staticStyle:{height:"35px"},attrs:{placeholder:"登录名/手机号",name:"input"},model:{value:e.userModel.phone,callback:function(n){e.$set(e.userModel,"phone",n)},expression:"userModel.phone"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("密码")]),t("v-uni-input",{staticStyle:{height:"35px"},attrs:{placeholder:"请输入密码",type:"password",name:"input"},model:{value:e.userModel.password,callback:function(n){e.$set(e.userModel,"password",n)},expression:"userModel.password"}})],1),t("v-uni-button",{staticClass:"cu-btn block bg-yellow margin-top lg text-white ",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.appUserLogin.apply(void 0,arguments)}}},[t("v-uni-text",{staticClass:"cuIconfont-spin"}),e._v("登录")],1)],1)],1)],1)},a=[]},b781:function(e,n,t){"use strict";t.r(n);var o=t("6bc6"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},e85e:function(e,n,t){var o=t("05ca");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=t("4f06").default;i("4521118d",o,!0,{sourceMap:!1,shadowMode:!1})}}]);