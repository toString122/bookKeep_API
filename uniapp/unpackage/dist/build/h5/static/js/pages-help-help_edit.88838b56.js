(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-help-help_edit"],{"0273":function(t,e,i){"use strict";var a=i("e026"),n=i.n(a);n.a},"03dc":function(t,e,i){"use strict";i.r(e);var a=i("814f"),n=i("3c02");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("0273");var c,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"1a5e3d60",null,!1,a["a"],c);e["default"]=l.exports},"19bd":function(t,e,i){"use strict";i.r(e);var a=i("1e90"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"1e90":function(t,e,i){"use strict";(function(t){i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar}},name:"cu-custom",computed:{style:function(){var t=this.StatusBar,e=this.CustomBar,i=this.bgImage,a="height:".concat(e,"px;padding-top:").concat(t,"px;");return this.bgImage&&(a="".concat(a,"background-image:url(").concat(i,");")),a}},props:{bgColor:{type:String,default:"bg-white"},isBack:{type:[Boolean,String],default:!0},bgImage:{type:String,default:""},title:{type:String,default:"返回"}},methods:{BackPage:function(){if(getCurrentPages().length<2&&"undefined"!==typeof __wxConfig){var e="/"+__wxConfig.pages[0];return t("log","++++++++"+e," at pages/components/statusBar.vue:55"),uni.redirectTo({url:e})}t("log","000000000000000000000"," at pages/components/statusBar.vue:60"),uni.navigateBack({delta:1})}}};e.default=a}).call(this,i("0de9")["log"])},"3c02":function(t,e,i){"use strict";i.r(e);var a=i("5ca8"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"5ca8":function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("99af"),i("c975"),i("a434"),i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("e6ee")),o=i("612e"),c=i("c0cc"),s={components:{StatusBar:n.default},onLoad:function(e){this.id=e.id,t("log",this.id," at pages/help/help_edit.vue:74"),(0,o.getHelpDetail)({id:this.id},(function(e){t("log","getHelpDetail返回数据",e," at pages/help/help_edit.vue:79")}))},data:function(){return{editable:!0,html:"<div> hello world </div>",readOnly:!1,id:1,content:"<div> hello world </div>",imgList:[]}},onReady:function(){var t=this;this.$refs.article.getSrc=function(e,i){return new Promise((function(a,n){var o;"img"===e?uni.showActionSheet({itemList:["本地选取","远程链接"],success:function(e){0===e.tapIndex?uni.chooseImage({count:1,success:function(t){a(t.tempFilePaths[0])},fail:n}):(t.callback={resolve:a,reject:n},t.$set(t,"modal",{title:"图片链接",value:i}))}}):(t.callback={resolve:a,reject:n},"video"===e?o="视频链接":"audio"===e?o="音频链接":"link"===e&&(o="链接地址"),t.$set(t,"modal",{title:o,value:i}))}))}},methods:{chooseWord:function(){uni.chooseMessageFile({count:1,type:"file",success:function(e){var i=e.tempFiles[0].size,a=e.tempFiles[0].name,n=a+"";if(t("log",e.tempFiles[0]," at pages/help/help_edit.vue:175"),t("log",n+"-------"+i," at pages/help/help_edit.vue:176"),i>4194304||-1==n.indexOf(".pdf"))uni.showToast({title:"文件大小不能超过4MB,格式必须为pdf！",icon:"none",duration:2e3,mask:!0});else{var o=uni.getStorageSync("slToken");e.tempFiles[0].path,e.tempFiles[0].name;uni.uploadFile({url:c.baseUrl+"/help/upload",filePath:e.tempFiles[0].path,name:"file",header:{"content-type":"multipart/form-data;charset=UTF-8",Authorization:"Bearer "+o},success:function(t){if(401===t.statusCode)uni.showToast({title:"登录超时，重新登录",duration:2e3,icon:"none"});else{var e=JSON.parse(t.data);1==e.result&&uni.showToast({title:"上传成功",duration:2e3,icon:"none"})}},fail:function(e){t("log",e," at pages/help/help_edit.vue:218"),uni.showToast({title:"上传失败",duration:2e3,icon:"none"})}})}}})},ChooseImage:function(){var t=this;uni.chooseImage({count:4,sizeType:["original","compressed"],sourceType:["album"],success:function(e){0!=t.imgList.length?t.imgList=t.imgList.concat(e.tempFilePaths):t.imgList=e.tempFilePaths}})},ViewImage:function(t){uni.previewImage({urls:this.imgList,current:t.currentTarget.dataset.url})},DelImg:function(t){var e=this;uni.showModal({title:"召唤师",content:"确定要删除这段回忆吗？",cancelText:"再看看",confirmText:"再见",success:function(i){i.confirm&&e.imgList.splice(t.currentTarget.dataset.index,1)}})},load:function(){t("log","dom 树加载完毕"," at pages/help/help_edit.vue:264")},ready:function(e){t("log","ready 事件触发：",e," at pages/help/help_edit.vue:267")},imgtap:function(e){t("log","imgtap 事件触发：",e," at pages/help/help_edit.vue:270")},linktap:function(e){t("log","linktap 事件触发：",e," at pages/help/help_edit.vue:273")},edit:function(t){this.$refs.article[t.currentTarget.dataset.method]()},clear:function(){var t=this;uni.showModal({title:"确认",content:"确定清空内容吗？",success:function(e){e.confirm&&t.$refs.article.clear()}})},save:function(){}}};e.default=s}).call(this,i("0de9")["log"])},"612e":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getHelpDetail=o,e.uploadFile=c;var n=a(i("c0cc"));function o(t,e,i,a){return(0,n.default)({url:"/help/getHelpDetail",method:"Post",data:t,success:e,fail:i,complete:a})}function c(t,e,i,a,n){}},"814f":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("StatusBar",{attrs:{title:"帮助信息编辑",bgColor:"light bg-brown"}}),i("v-uni-view",[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v("标题")]),i("v-uni-input",{attrs:{placeholder:"这里输入标题",name:"input"}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white margin-top"},[i("v-uni-view",{staticClass:"action"},[t._v("图片上传")]),i("v-uni-view",{staticClass:"action"},[t._v(t._s(t.imgList.length)+"/4")])],1),i("v-uni-view",[i("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseWord.apply(void 0,arguments)}}},[t._v("选择word文档")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"grid col-4 grid-square flex-sub"},[t._l(t.imgList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"bg-img",attrs:{"data-url":t.imgList[a]},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ViewImage.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:t.imgList[a],mode:"aspectFill"}}),i("v-uni-view",{staticClass:"cu-tag bg-red",attrs:{"data-index":a},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.DelImg.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close"})],1)],1)})),t.imgList.length<4?i("v-uni-view",{staticClass:"solids",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ChooseImage.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-cameraadd"})],1):t._e()],2)],1),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"editor_toolbox"},[i("i",{staticClass:"iconfont icon-undo",attrs:{"data-method":"undo"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit.apply(void 0,arguments)}}}),i("i",{staticClass:"iconfont icon-redo",attrs:{"data-method":"redo"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit.apply(void 0,arguments)}}}),i("i",{staticClass:"iconfont icon-img",attrs:{"data-method":"insertImg"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit.apply(void 0,arguments)}}}),i("i",{staticClass:"iconfont icon-video",attrs:{"data-method":"insertVideo"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit.apply(void 0,arguments)}}}),i("i",{staticClass:"iconfont icon-link",attrs:{"data-method":"insertLink"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit.apply(void 0,arguments)}}}),i("i",{staticClass:"iconfont icon-text",attrs:{"data-method":"insertText"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit.apply(void 0,arguments)}}}),i("i",{staticClass:"iconfont icon-clear",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}}),i("i",{staticClass:"iconfont icon-save",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}})]),i("v-uni-view",{staticStyle:{"padding-bottom":"250px"}},[i("mp-html",{ref:"article",attrs:{"container-style":"padding:20px",content:t.content,domain:"https://6874-html-foe72-1259071903.tcb.qcloud.la/demo",editable:t.editable}})],1)],1)],1)],1)],1)},o=[]},8760:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"cu-custom",style:[{height:t.CustomBar+"px"}]},[i("v-uni-view",{staticClass:"cu-bar fixed",class:[""!=t.bgImage?"none-bg text-white bg-img":"",t.bgColor],style:t.style},[t.isBack?i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.BackPage.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-back"}),t._t("backText",[t._v(t._s(t.title))])],2):t._e()],1)],1)},o=[]},be99:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.editor_toolbox[data-v-1a5e3d60]{position:fixed;bottom:0;width:100%;z-index:999;background-color:#ededed;display:flex;padding:5px;box-sizing:border-box;line-height:1.6}@font-face{font-family:iconfont;src:url("data:application/x-font-woff2;charset=utf-8;base64,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") format("woff2")}.iconfont[data-v-1a5e3d60]{flex:1;text-align:center;font-family:iconfont!important;font-size:22px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-undo[data-v-1a5e3d60]:before{content:"\\e607"}.icon-redo[data-v-1a5e3d60]:before{content:"\\e606"}.icon-img[data-v-1a5e3d60]:before{content:"\\e6e2"}.icon-video[data-v-1a5e3d60]:before{content:"\\e798"}.icon-link[data-v-1a5e3d60]:before{content:"\\e60d"}.icon-text[data-v-1a5e3d60]:before{content:"\\e6ce"}.icon-clear[data-v-1a5e3d60]:before{content:"\\e637"}.icon-save[data-v-1a5e3d60]:before{content:"\\e501"}\n\n/* 模态框 */.modal[data-v-1a5e3d60]{position:fixed;top:50%;left:16px;right:16px;background-color:#fff;border-radius:12px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.modal_title[data-v-1a5e3d60]{padding:32px 24px 16px;font-size:17px;font-weight:700;text-align:center}.modal_input[data-v-1a5e3d60]{display:block;padding:5px;margin:0 24px 32px 24px;font-size:14px;border:1px solid #dfe2e5}.modal_foot[data-v-1a5e3d60]{display:flex;line-height:56px;font-weight:700;border-top:1px solid rgba(0,0,0,.1)}.modal_button[data-v-1a5e3d60]{flex:1;text-align:center}\n\n/* 蒙版 */.mask[data-v-1a5e3d60]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.5}',""]),t.exports=e},e026:function(t,e,i){var a=i("be99");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("492688df",a,!0,{sourceMap:!1,shadowMode:!1})},e6ee:function(t,e,i){"use strict";i.r(e);var a=i("8760"),n=i("19bd");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);var c,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"0d5d0c7a",null,!1,a["a"],c);e["default"]=l.exports}}]);