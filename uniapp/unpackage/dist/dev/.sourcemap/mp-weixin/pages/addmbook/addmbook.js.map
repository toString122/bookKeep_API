{"version":3,"sources":["webpack:///E:/code/jizhang-app/uniapp-keep-accounts-master/src/pages/addmbook/addmbook.vue?c5a4","webpack:///E:/code/jizhang-app/uniapp-keep-accounts-master/src/pages/addmbook/addmbook.vue?9831","webpack:///E:/code/jizhang-app/uniapp-keep-accounts-master/src/pages/addmbook/addmbook.vue?aba0","webpack:///E:/code/jizhang-app/uniapp-keep-accounts-master/src/pages/addmbook/addmbook.vue?3f7e","uni-app:///pages/addmbook/addmbook.vue","webpack:///E:/code/jizhang-app/uniapp-keep-accounts-master/src/pages/addmbook/addmbook.vue?f7ae","webpack:///E:/code/jizhang-app/uniapp-keep-accounts-master/src/pages/addmbook/addmbook.vue?b70d","uni-app:///main.js"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmoB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoHvpB;;;;;;AAMA;;;AAGA,8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA,EACA,IADA,kBACA,CACA,SACA,SACA,WADA,EAEA,UAFA,EAGA,UAHA,EAIA,+BAJA,EAKA,WALA,EADA,EAQA,eARA,EASA,cATA,EAUA,mBAVA,EAWA,oBAXA,EAYA,iBAZA,EAaA,gBAbA,GAeA,CAjBA,EAkBA,WACA,kCAEA,iDACA,0CACA,0CAGA,CAJA,MAIA,0CACA,2CACA,CAEA,0CACA,0CAEA,CAfA,EAgBA,oCACA,mCACA,CAlBA,EAmBA,kCACA,qBACA,CArBA,EAsBA,4CACA,4CACA,CAxBA,EAyBA,iCACA,sBACA,8BACA,gCACA,yBAEA,uBACA,iBACA,CAFA,MAEA,qBACA,gBACA,CACA,yCACA,gCACA,2DACA,CAvCA,EAwCA;AACA,8CACA,uBACA,mCACA,gBACA,eADA,EAEA,cAFA,EAGA,YAHA,IAKA,aACA,CAEA,eACA,SACA,CACA,+BACA,aACA,CACA,sDAJA,CAIA;AACA,WACA,MACA,SACA,CACA,+BACA,aACA,CACA,sDAJA,CAIA;AACA,WACA,MACA,SACA,CACA,gCACA;AACA,8CACA,CACA,+FACA,aACA,CAFA,MAEA,+FACA,aACA,CACA,CACA,MA7BA,CAgCA,4BACA,sDACA,CAFA,MAEA,CACA,gDACA,CAEA,CA1FA,EA2FA,0CACA;AACA,yHACA,CAFA,MAEA;AACA,yHACA,CAFA,MAEA;AACA,mIACA,CAFA,MAEA,CACA,8BACA;AAEA,KAtGA;AAuGA;AACA;AACA,KAzGA;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;;AAEA,KApHA;AAqHA;AACA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;;AAEA;AACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;AACA,uCADA;;AAGA,WAJA,EAIA,IAJA;;AAMA,SAZA,MAYA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,wBAHA;;;AAMA;AACA,OAtBA;AAuBA,KAlKA;;;AAqKA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,oBAFA;AAGA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA;AAOA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAhBA;AAiBA,KA1LA;AA2LA;AACA;AACA;AACA,KA9LA,EAlBA;;;AAmNA,SAnNA,qBAmNA;AACA;AACA,GArNA;AAsNA;AACA,iBADA,2BACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KARA,EAtNA,E;;;;;;;;;;;;;AChIA;AAAA;AAAA;AAAA;AAA07B,CAAgB,+3BAAG,EAAC,C;;;;;;;;;;;ACA98B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,qG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,iBAAD,CAAV,C","file":"pages/addmbook/addmbook.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./addmbook.vue?vue&type=template&id=8fdfb3b4&scoped=true&\"\nvar renderjs\nimport script from \"./addmbook.vue?vue&type=script&lang=js&\"\nexport * from \"./addmbook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addmbook.vue?vue&type=style&index=0&id=8fdfb3b4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8fdfb3b4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/addmbook/addmbook.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmbook.vue?vue&type=template&id=8fdfb3b4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmbook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmbook.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom bgColor=\"bg-white\" :isBack=\"true\">\r\n\t\t\t<block slot=\"backText\">返回</block>\r\n\t\t\t<block slot=\"content\">记账</block>\r\n\t\t</cu-custom>\r\n\t\t<scroll-view scroll-x class=\"bg-white nav text-center\">\r\n\t\t\t<view class=\"cu-item\" :class=\"model.billType==1?'text-blue cur':''\" @tap=\"tabSelect\" :data-id=\"1\">\r\n\t\t\t\t支出\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-item\" :class=\"model.billType==2?'text-blue cur':''\" @tap=\"tabSelect\" :data-id=\"2\">\r\n\t\t\t\t收入\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\r\n\t\t<view class=\"flex justify-between bg-white solid-bottom solid-top align-center\">\r\n\t\t\t<view class=\"padding-sm margin-xsradius \">\r\n\t\t\t\t<view class=\"cu-avatar round lg margin-xsradius \" :class=\"currentClass.iconName\" :style=\"'background-color:'+currentClass.bgColor\"></view>\r\n\t\t\t\t<text class=\"padding-left text-grey\">{{currentClass.name}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"padding-sm \">\r\n\t\t\t\t<view class=\"text-black text-xxl contner\">{{model.money}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view scroll-x class=\"bg-white\" style=\"height: 453upx;\" scroll-y>\r\n\t\t\t<view class=\"cu-list grid col-5\">\r\n\t\t\t\t<view class=\" justify-center\" v-for=\"(item,index) in bookclasslist\" :key=\"index\" @click=\"changeClass(item)\">\r\n\t\t\t\t\t<view class=\"cu-avatar round lg margin-xs \" :class=\"item.iconName\" :style=\"item.id===model.classId?'background-color:'+item.bgColor:''\">\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>{{item.name}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"input-calculator\">\r\n\r\n\t\t\t<view class=\"cu-bar input\" :class=\"InputBottom>0?'foot':''\" :style=\"[{bottom:InputBottom+'px'}]\">\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"  text-grey\">备注</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input class=\"solid-bottom\" :adjust-position=\"false\" :focus=\"false\" maxlength=\"300\" v-model=\"model.remark\"\r\n\t\t\t\t cursor-spacing=\"10\" @focus=\"InputFocus\" @blur=\"InputBlur\"></input> <!-- @focus=\"InputFocus\" @blur=\"InputBlur\" -->\r\n\t\t\t\t<!-- 图片 选择图片 \t<view class=\"action\">\r\n\t\t\t\t\t<text class=\"cuIcon-emojifill text-grey\"></text>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"cu-list grid col-4\">\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"1\">\r\n\t\t\t\t\t<text class=\"text-black\">1</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"2\">\r\n\t\t\t\t\t<text class=\"text-black\">2</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"3\">\r\n\t\t\t\t\t<text class=\"text-black\">3</text>\r\n\t\t\t\t</view class=\"text-black\">\r\n\t\t\t\t<view class=\"cu-item border\">\r\n\t\t\t\t\t<!-- <text class=\"text-black\"> -->\r\n\r\n\t\t\t\t\t<picker mode=\"date\" :value=\"model.consumptionTime\" @change=\"bindDateChange\">\r\n\t\t\t\t\t\t<view class=\"text-black\">\r\n\t\t\t\t\t\t\t{{model.consumptionTime}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</picker>\r\n\r\n\t\t\t\t\t<!-- </text> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"4\">\r\n\t\t\t\t\t<text class=\"text-black\">4</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"5\">\r\n\t\t\t\t\t<text class=\"text-black\">5</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"6\">\r\n\t\t\t\t\t<text class=\"text-black\">6</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"+\">\r\n\t\t\t\t\t<text class=\"text-black\">+</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"7\">\r\n\t\t\t\t\t<text class=\"text-black\">7</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"8\">\r\n\t\t\t\t\t<text class=\"text-black\">8</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"9\">\r\n\t\t\t\t\t<text class=\"text-black\">9</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"-\">\r\n\t\t\t\t\t<text class=\"text-black\">-</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\".\">\r\n\t\t\t\t\t<text class=\"text-black\">.</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"InputText\" data-text=\"0\">\r\n\t\t\t\t\t<text class=\"text-black\">0</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"Deltext\">\r\n\t\t\t\t\t<text class=\"text-black\">删除</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border\" @click=\"CalculationTo\" v-if=\"isCalculation\">\r\n\t\t\t\t\t<text class=\"text-black\">=</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item border bg-green submit align-center\" style=\"background-color: #f6c142;\" @click=\"Submit\" v-if=\"!isCalculation\">\r\n\t\t\t\t\t<text class=\"text-bold block\" style=\"color:#ffffff;\">保存</text>\r\n\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\taccAdd,\r\n\t\taccSub,\r\n\t\taccMul,\r\n\t\taccDiv\r\n\t} from '@/common/calculation.js'\r\n\timport {\r\n\t\tgetBookClassList\r\n\t} from '@/api/book/bookclass.js'\r\n\timport {\r\n\t\tbookSave\r\n\t} from '@/api/book/book.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmodel: {\r\n\t\t\t\t\tbillType: 1,\r\n\t\t\t\t\tmoney: '0',\r\n\t\t\t\t\tremark: '',\r\n\t\t\t\t\tconsumptionTime: this.getDate(),\r\n\t\t\t\t\tclassId: ''\r\n\t\t\t\t},\r\n\t\t\t\tclassLength: 30,\r\n\t\t\t\tInputBottom: 0,\r\n\t\t\t\tbookinclasslist: [],\r\n\t\t\t\tbookoutclasslist: [],\r\n\t\t\t\tbookclasslist: [],\r\n\t\t\t\tcurrentClass: {},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttabSelect: function(e) {\r\n\r\n\t\t\t\tthis.model.billType = e.currentTarget.dataset.id;\r\n\t\t\t\tif (parseInt(this.model.billType) === 2) {\r\n\t\t\t\t\tthis.bookclasslist = this.bookinclasslist;\r\n\r\n\r\n\t\t\t\t} else if (parseInt(this.model.billType) === 1) {\r\n\t\t\t\t\tthis.bookclasslist = this.bookoutclasslist;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.currentClass = this.bookclasslist[0];\r\n\t\t\t\tthis.model.classId = this.currentClass.id;\r\n\r\n\t\t\t},\r\n\t\t\tInputFocus: function(e) {\r\n\t\t\t\tthis.InputBottom = e.detail.height\r\n\t\t\t},\r\n\t\t\tInputBlur: function(e) {\r\n\t\t\t\tthis.InputBottom = 0\r\n\t\t\t},\r\n\t\t\tbindDateChange: function(e) {\r\n\t\t\t\tthis.model.consumptionTime = e.target.value\r\n\t\t\t},\r\n\t\t\tgetDate: function(type) {\r\n\t\t\t\tconst date = new Date();\r\n\t\t\t\tlet year = date.getFullYear();\r\n\t\t\t\tlet month = date.getMonth() + 1;\r\n\t\t\t\tlet day = date.getDate();\r\n\r\n\t\t\t\tif (type === 'start') {\r\n\t\t\t\t\tyear = year - 60;\r\n\t\t\t\t} else if (type === 'end') {\r\n\t\t\t\t\tyear = year + 2;\r\n\t\t\t\t}\r\n\t\t\t\tmonth = month > 9 ? month : '0' + month;;\r\n\t\t\t\tday = day > 9 ? day : '0' + day;\r\n\t\t\t\treturn `${year}-${month}-${day}`;\r\n\t\t\t},\r\n\t\t\tInputText: function(e) { //输入内容\r\n\t\t\t\tvar text = e.currentTarget.dataset.text;\r\n\t\t\t\tthis.model.money+='';\r\n\t\t\t\tif (this.model.money.length > 14) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '输入金额过大',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tswitch (text) {\r\n\t\t\t\t\tcase '+':\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (this.model.money === \"0\") {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.model.money = this.Calculation(this.model.money); //如果之前的包括符号要计算掉\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '-':\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (this.model.money === \"0\") {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.model.money = this.Calculation(this.model.money); //如果之前的包括符号要计算掉\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '.':\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet str = this.model.money + '';\r\n\t\t\t\t\t\t\tif (this.model.money.indexOf('-') === 0 || this.model.money.indexOf('+') === 0) { //第一个是负数\r\n\t\t\t\t\t\t\t\tstr = str.substr(1, str.length)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (str.indexOf('-') !== -1 && str.split('-')[str.split('-').length - 1].indexOf('.') !== -1) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else if (str.indexOf('+') !== -1 && str.split('+')[str.split('+').length - 1].indexOf('.') !== -1) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.model.money != 0) {\r\n\t\t\t\t\tthis.model.money += e.currentTarget.dataset.text + '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.model.money = e.currentTarget.dataset.text;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tCalculation: function(money) {\r\n\t\t\t\tif (money.indexOf('-') !== -1 && money.indexOf('-') !== 0) { //减  \r\n\t\t\t\t\treturn accSub(parseFloat(money.split('-')[0] || 0), parseFloat(money.split('-')[1] || 0)) + '';\r\n\t\t\t\t} else if (money.indexOf('+') !== -1) { //加\r\n\t\t\t\t\treturn accAdd(parseFloat(money.split('+')[0] || 0), parseFloat(money.split('+')[1] || 0)) + '';\r\n\t\t\t\t} else if (money.indexOf('-') === 0 && money.split('-')[2]) { //减\r\n\t\t\t\t\treturn accSub(parseFloat('-' + money.split('-')[1] || 0), parseFloat(money.split('-')[2] || 0)) + '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn parseFloat(money) + '';\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tCalculationTo: function(e) {\r\n\t\t\t\tthis.model.money = this.Calculation(this.model.money);\r\n\t\t\t},\r\n\t\t\tDeltext: function(e) { //删除\r\n\t\t\t\tif (this.model.money.length > 1) {\r\n\t\t\t\t\tthis.model.money = this.model.money.substr(0, this.model.money.length - 1)\r\n\t\t\t\t\tif (this.model.money === '-' || this.model.money === \"+\") {\r\n\t\t\t\t\t\tthis.model.money = \"0\"\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.model.money = \"0\"\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tSubmit: function(e) {\r\n\t\t\t\tconsole.log('点击了提交按钮', this.model)\r\n\t\t\t\tif (this.model.classId === \"\") {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请选择分类\",\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.model.money || this.model.money == 0) {\r\n\t\t\t\t\t// AmountOfmoney\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入金额\",\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.model.AmountOfmoney = parseFloat(this.model.money)\r\n\r\n\t\t\t\tbookSave(this.model, res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.result === true) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"保存成功\",\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl:\"/pages/index/index\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t//获取数据 \r\n\t\t\tgetBookClassList: function() {\r\n\t\t\t\tconsole.log(\"获取数据\")\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetBookClassList({\r\n\t\t\t\t\tPageSize: 1000,\r\n\t\t\t\t\tPageIndex: 1\r\n\t\t\t\t}, res => {\r\n\t\t\t\t\tres.data.forEach(item => {\r\n\t\t\t\t\t\tif (item.billType === 1) {\r\n\t\t\t\t\t\t\tthat.bookoutclasslist.push(item)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.bookinclasslist.push(item)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (that.model.billType == 1) {\r\n\t\t\t\t\t\tthat.bookclasslist = that.bookoutclasslist\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.bookclasslist = that.bookinclasslist\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangeClass: function(c) {\r\n\t\t\t\tthis.currentClass = c;\r\n\t\t\t\tthis.model.classId = c.id;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getBookClassList();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tisCalculation() {\r\n\t\t\t\tlet str = this.model.money + '';\r\n\t\t\t\tif (this.model.money.indexOf('-') === 0 || this.model.money.indexOf('+') === 0) { //第一个是负数\r\n\t\t\t\t\tstr = str.substr(1, str.length)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (str.indexOf('-') !== -1) || str.indexOf('+') !== -1\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.input-calculator {\r\n\t\tposition: fixed;\r\n\t\tbottom: var(--window-bottom);\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.submit:active {\r\n\t\tbackground-color: #f6cf4f !important;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmbook.vue?vue&type=style&index=0&id=8fdfb3b4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmbook.vue?vue&type=style&index=0&id=8fdfb3b4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1645249781622\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/addmbook/addmbook.vue'\ncreatePage(Page)"],"sourceRoot":""}